"use strict";(self.webpackChunkparticle_auth_cra=self.webpackChunkparticle_auth_cra||[]).push([[2427],{72427:(e,n,t)=>{t.d(n,{getDefaultRoleAssumerWithWebIdentity:()=>S});var i=t(82973),o=t(72629),r=t(20889),s=t(8896),l=t(81537),c=t(30905);class a extends(r.uB.classBuilder().ep(s.S).m((function(e,n,t,r){return[(0,o.TM)(t,this.serialize,this.deserialize),(0,i.rD)(t,e.getEndpointParameterInstructions())]})).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(l.KT,l.AA).ser(c.$3).de(c.MV).build()){}const d="us-east-1",u=e=>{if("string"===typeof(null===e||void 0===e?void 0:e.Arn)){const n=e.Arn.split(":");if(n.length>4&&""!==n[4])return n[4]}},v=async(e,n,t)=>{var i,o;const r="function"===typeof e?await e():e,s="function"===typeof n?await n():n;return null===t||void 0===t||null===(i=t.debug)||void 0===i||i.call(t,"@aws-sdk/client-sts::resolveRegion","accepting first of:","".concat(r," (provider)"),"".concat(s," (parent client)"),"".concat(d," (STS default)")),null!==(o=null!==r&&void 0!==r?r:s)&&void 0!==o?o:d},f=(e,n)=>{let t;return async i=>{if(!t){var o,r,s;const{logger:i=(null===e||void 0===e||null===(o=e.parentClientConfig)||void 0===o?void 0:o.logger),region:l,requestHandler:c=(null===e||void 0===e||null===(r=e.parentClientConfig)||void 0===r?void 0:r.requestHandler),credentialProviderLogger:a}=e,d=await v(l,null===e||void 0===e||null===(s=e.parentClientConfig)||void 0===s?void 0:s.region,a),u=!p(c);t=new n({region:d,requestHandler:u?c:void 0,logger:i})}const{Credentials:l,AssumedRoleUser:c}=await t.send(new a(i));if(!l||!l.AccessKeyId||!l.SecretAccessKey)throw new Error("Invalid response from STS.assumeRoleWithWebIdentity call with role ".concat(i.RoleArn));const d=u(c);return{accessKeyId:l.AccessKeyId,secretAccessKey:l.SecretAccessKey,sessionToken:l.SessionToken,expiration:l.Expiration,...l.CredentialScope&&{credentialScope:l.CredentialScope},...d&&{accountId:d}}}},p=e=>{var n;return"h2"===(null===e||void 0===e||null===(n=e.metadata)||void 0===n?void 0:n.handlerProtocol)};var g=t(35424);const h=(e,n)=>n?class extends e{constructor(e){super(e);for(const t of n)this.middlewareStack.use(t)}}:e,S=function(){let e=arguments.length>1?arguments[1]:void 0;return f(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},h(g.i,e))}}}]);
//# sourceMappingURL=2427.3af0e432.chunk.js.map